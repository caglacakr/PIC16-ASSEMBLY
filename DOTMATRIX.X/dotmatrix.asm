    __CONFIG H'3F31'
    list p  = 16f877a
    #include<p16f877a.inc>
    
    ORG 0X00
    BAS	     EQU 0X20
    DIKEY   EQU 0X21
    YATAY   EQU 0X22
    DEG1    EQU 0X23
    DEG2    EQU 0X24
    INDEX   EQU 0X25
    SON     EQU  0X26
    DEGA    EQU  0X27
    DEGB    EQU  0X28
 
    MOVLW 0X0A
    MOVWF DEG1
    
    MOVLW 0X03
    MOVWF DEG2
    
    MOVLW 0X00
    MOVWF INDEX
    MOVWF SON
    
    BASLANGIC
	MOVLW 0X03
	MOVWF BAS
	MOVWF DIKEY
	
	MOVLW 0X01
	MOVWF YATAY
	
	BANKSEL TRISA
	MOVLW 0X06
	MOVWF ADCON1
	MOVLW b'00001111'
	MOVWF TRISA
	CLRF  TRISC
	CLRF  TRISB
	BANKSEL PORTA
	CLRF PORTA
	CLRF PORTC
	MOVLW b'00000111'
	MOVWF PORTB
	BSF PORTC,0

    BTN_ARA
	BTFSC PORTA,0
	GOTO  YUKARI
	BTFSC PORTA,1
	GOTO  SAG
	BTFSC PORTA,2
	GOTO  ASAGI
	BTFSC PORTA,3
	GOTO  SOL
	
	GOTO  BTN_ARA
	
    YUKARI
	BCF  STATUS,C
	RLF  PORTB,F
	INCF  SON,F
	INCF  BAS,F
	CALL GECIKME
	CALL GECIKME_HIZLI
	
	GOTO BTN_ARA
	
	
    SAG
    
    ASAGI
    
    SOL	
	DECF  DIKEY,F
	INCF  YATAY,F  
	MOVFW SON
	CALL LOOK_UPX
	MOVWF PORTB
	CALL  GECIKME_HIZLI
    SUPUR
	RLF PORTC,F
	MOVFW BAS
	CALL SOLA_DONDUR
	MOVWF PORTB
	CALL GECIKME_HIZLI
	
    SUPUR2
	RRF   PORTC,F
	DECF  DIKEY,F
	INCF  YATAY,F
	MOVFW SON
	CALL LOOK_UPX
	MOVWF PORTB
	CALL  GECIKME_HIZLI
	
	BTFSC PORTA,3
        GOTO  YATAY3
	
	
	GOTO  SUPUR
	
    GECIKME
	DECFSZ DEG1,F
	GOTO DEG2AZALT
	MOVLW 0XFF
	MOVWF DEG1
	MOVLW 0XFF
	MOVWF DEG2
	RETURN
	
    DEG2AZALT
	DECFSZ DEG2,F
	GOTO DEG2AZALT
	GOTO GECIKME

    GECIKME_HIZLI
	DECFSZ DEGA,F
	GOTO DEGB_AZALT
	MOVLW 0X12
	MOVWF DEGA
	MOVLW 0X1A
	MOVWF DEGB
	RETURN
	
    DEGB_AZALT
	DECFSZ DEGB,F
	GOTO DEGB_AZALT
	GOTO GECIKME_HIZLI
	
    YATAY3
	DECF  DIKEY,F
	INCF  YATAY,F
	MOVFW BAS
	CALL YATAY3_LOOK
	MOVWF PORTB
	
    SUPUR3
	RLF PORTC,F
	MOVFW BAS
	CALL SOLA_DONDUR
	MOVWF PORTB
	CALL GECIKME_HIZLI
	
    SUPUR4 
	RLF PORTC,F
	MOVFW BAS
	CALL SOLA_DONDUR
	MOVWF PORTB
	CALL GECIKME_HIZLI
    
    SUPUR5
	RRF PORTC,F
	MOVFW BAS
	CALL SOLA_DONDUR
	MOVWF PORTB
	CALL GECIKME_HIZLI

    SUPUR6
	RRF PORTC,F
	MOVFW BAS
	CALL SOLA_DONDUR
	MOVWF PORTB
	CALL GECIKME_HIZLI
	
	BTFSS PORTA,3
	GOTO  SUPUR3
	CALL  GECIKME
	CALL  GECIKME

    SOLAKAYDIR
	RLF PORTC,F
	CALL GECIKME_HIZLI
	GOTO SUPUR3
	
    YATAY3_LOOK
	ADDWF PCL,F
	RETLW b'00000000'
	RETLW b'00000000'
	RETLW b'00000100'
	RETLW b'00000100'
	RETLW b'00001000'
	RETLW b'00010000'
	RETLW b'00100000'
	
    SOLA_DONDUR
	ADDWF	PCL,F
	RETLW  b'00000000'
	RETLW  b'00000000'
	RETLW  b'00000000'
	RETLW  b'00000100'
	RETLW  b'00001000'
	RETLW  b'00010000'
	RETLW  b'00100000'
	
    LOOK_UPX
	ADDWF PCL,F
	RETLW b'00000110'
	RETLW b'00001100'
	RETLW b'00011000'
	RETLW b'00110000'
	RETLW b'01100000'
	RETLW b'11000000'
    
    END


